var elementScroller=function(a){this.els=a.getChildren();var b=this,c=this.els.length,d=parseInt(a.get("data-elwidth"),10),e=parseInt(a.get("data-elheight"),10),f=parseInt(a.get("data-margin"),10),g=f+d;this.init=function(){return a.hasClass("dk-jsu-elscroller")?!1:(this.getDimensions(),c<=this.elPerPage?!1:(a.addClass("dk-jsu-elscroller"),this.currentPage=0,this.curLeft=0,this.setElements(),this.setEvents(),void this.goToPage(0)))},this.getDimensions=function(){b.elContWidth=a.hasClass("dk-jsu-elscroller")?b.wrapper.getWidth():a.getWidth(),b.elPerPage=Math.floor(b.elContWidth/g),b.elPageWidth=g*b.elPerPage,b.elMaxPage=Math.floor((c-1)/b.elPerPage),b.maxLeft=b.elMaxPage*b.elPageWidth},this.goToPage=function(c){b.container.removeClass("is-first"),b.container.removeClass("is-last");var d=0;"next"==c&&(c=b.currentPage+1),"prev"==c&&(c=b.currentPage-1),0>c&&(c=b.elMaxPage),c>b.elMaxPage&&(c=0),d=0-c*b.elPageWidth,a.tween("left",[b.curLeft,d]),b.currentPage=c,b.curLeft=d,0===c&&b.container.addClass("is-first"),c==b.elMaxPage&&b.container.addClass("is-last")},this.setElements=function(){this.container=new Element("div.elscroller"),this.wrapper=new Element("div.elscroller__wrapper"),this.wrapper.wraps(a),this.container.wraps(this.wrapper),this.nav=new Element("div.elscroller__navigation"),this.navPrev=new Element("div.elscroller__navigation_el.prev"),this.navNext=new Element("div.elscroller__navigation_el.next"),this.navPrev.set("html","&#9664;"),this.navNext.set("html","&#9654;"),this.nav.adopt(this.navPrev),this.nav.adopt(this.navNext),this.container.adopt(this.nav),this.wrapper.setStyles({position:"relative","min-height":e,overflow:"hidden"}),a.setStyles({width:c*g,position:"absolute",left:0,top:0,"z-index":1}),this.els.setStyles({width:d,"margin-right":f,"float":"left"}),a.set("tween",{duration:300})},this.setEvents=function(){this.navNext.addEvent("click",function(a){a.preventDefault(),b.goToPage("next")}),this.navPrev.addEvent("click",function(a){a.preventDefault(),b.goToPage("prev")}),$(window).addEvent("resize",function(){b.goToPage(0),b.getDimensions()})},this.init()};