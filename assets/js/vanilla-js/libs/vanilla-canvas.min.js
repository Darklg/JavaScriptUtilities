var dkJSUCanvas=function(a,b){var c=this;c.canvas=a,c.args=b||{},c.canvParent=c.canvas.parentNode,c.coverParent=c.args.coverParent||!1;var d=function(){c.setCanvasSize(),c.setEvents(),c.context=c.canvas.getContext("2d")};c.coverVideo=function(a){c.video=a||c.getChildIf("VIDEO"),c.video&&(c.dim=c.getCoverDimensions(c.video),c.video.addEventListener("play",function(){c.drawVideo()}))},c.drawVideo=function(){return c.context.drawImage(c.video,c.dim.left,c.dim.top,c.dim.width,c.dim.height),c.video.paused||c.video.ended?!1:(requestAnimFrame(function(){c.drawVideo()}),void 0)},c.coverImage=function(a){if(a=a||c.getChildIf("IMG")){var b=c.getCoverDimensions(a);c.context.drawImage(a,b.left,b.top,b.width,b.height)}},c.setEvents=function(){c.coverParent&&window.addEventListener("resize",function(){c.setCanvasSize(),c.dim=c.getCoverDimensions(c.video)},!0)},c.setCanvasSize=function(){c.cH=c.canvas.clientHeight,c.cW=c.canvas.clientWidth,c.coverParent&&(c.cH=c.canvParent.offsetHeight,c.cW=c.canvParent.offsetWidth),c.cRatio=c.cH/c.cW,c.canvas.height=c.cH,c.canvas.width=c.cW},c.getChildIf=function(b){return a.children[0]&&a.children[0].tagName==b?a.children[0]:!1},c.getCoverDimensions=function(a){var b={left:0,top:0,width:10,height:10},d=a.height||9,e=a.width||16,f=d/e;return c.cRatio<f?(b.width=c.cW,b.height=b.width*f,b.top=0-(b.height-c.cH)/2):(b.height=c.cH,b.width=b.height/f,b.left=0-(b.width-c.cW)/2),b},d()};window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,40)}}();