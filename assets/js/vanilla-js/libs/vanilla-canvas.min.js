var dkJSUCanvas=function(a){this.canvas=a,this.cH=this.canvas.clientHeight,this.cW=this.canvas.clientWidth,this.cRatio=this.cH/this.cW,this.context=this.canvas.getContext("2d"),this.canvas.height=this.cH,this.canvas.width=this.cW,this.coverVideo=function(a){var b=this;this.video=a||this.getChildIf("VIDEO"),this.video&&(this.dim=this.getCoverDimensions(this.video),this.video.addEventListener("play",function(){b.drawVideo()}))},this.drawVideo=function(){var a=this;return this.context.drawImage(this.video,this.dim.left,this.dim.top,this.dim.width,this.dim.height),this.video.paused||this.video.ended?!1:(setTimeout(function(){a.drawVideo()},40),void 0)},this.coverImage=function(a){if(a=a||this.getChildIf("IMG")){var b=this.getCoverDimensions(a);this.context.drawImage(a,b.left,b.top,b.width,b.height)}},this.getChildIf=function(b){return a.children[0]&&a.children[0].tagName==b?a.children[0]:!1},this.getCoverDimensions=function(a){var b={left:0,top:0,width:10,height:10},c=a.height,d=a.width,e=c/d;return this.cRatio<e?(b.width=this.cW,b.height=b.width*e,b.top=0-(b.height-this.cH)/2):(b.height=this.cH,b.width=b.height/e,b.left=0-(b.width-this.cW)/2),b}};